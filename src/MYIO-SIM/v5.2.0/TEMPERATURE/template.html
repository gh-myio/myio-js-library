<section class="tb-temp-root">
  <!-- Loading overlay -->
  <div id="temperature-loading-overlay" class="temperature-loading-overlay" style="display: none">
    <div class="loading-spinner">
      <svg style="width: 48px; height: 48px; animation: spin 1s linear infinite" viewBox="0 0 50 50">
        <circle
          cx="25"
          cy="25"
          r="20"
          fill="none"
          stroke="#e65100"
          stroke-width="5"
          stroke-linecap="round"
          stroke-dasharray="90,150"
          stroke-dashoffset="0"
        ></circle>
      </svg>
      <p>Carregando dados de temperatura...</p>
    </div>
  </div>

  <!-- KPI Header Cards -->
  <header class="header">
    <div class="kpi-card">
      <div class="kpi-head">
        <span class="kpi-title">Temperatura Media Global</span>
        <i class="kpi-ico">ğŸŒ¡ï¸</i>
      </div>
      <div class="kpi-value" id="avgTemp">--</div>
      <div class="kpi-sub">
        <span id="avgTempTarget">Meta: 23Â°C +/- 2Â°C</span>
      </div>
      <div class="kpi-progress">
        <div class="bar" id="avgTempBar" style="width: 0%"></div>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-head">
        <span class="kpi-title">Total de Sensores</span>
        <i class="kpi-ico">ğŸ“Š</i>
      </div>
      <div class="kpi-value" id="totalSensors">--</div>
      <div class="kpi-sub">Sensores Monitorados</div>
    </div>

    <div class="kpi-card">
      <div class="kpi-head">
        <span class="kpi-title">Shoppings Online</span>
        <i class="kpi-ico">ğŸ¬</i>
      </div>
      <div class="kpi-value" id="shoppingsOnline">--</div>
      <div class="kpi-sub">
        <span class="badge badge-on" id="shoppingsBadge">Ativo</span>
      </div>
    </div>

    <div class="kpi-card alert-card">
      <div class="kpi-head">
        <span class="kpi-title">Alertas</span>
        <i class="kpi-ico">âš ï¸</i>
      </div>
      <div class="kpi-value" id="alertCount">--</div>
      <div class="kpi-sub">Fora do intervalo ideal</div>
    </div>
  </header>

  <!-- RFC-0098: Container for createConsumptionChartWidget (widget injects its own HTML) -->
  <section id="temperature-chart-widget" class="chart-card chart-card-7days"></section>

  <!-- Temperature Comparison Chart -->
  <section class="chart-card">
    <h3 class="chart-title">Comparativo de Temperatura por Shopping</h3>
    <p class="chart-sub">Evolucao da temperatura media ao longo do dia em cada shopping center</p>
    <div class="chart-container">
      <canvas id="tempChart"></canvas>
    </div>
  </section>

  <!-- Shopping Temperature List -->
  <section class="list-card">
    <h3 class="list-title">Temperatura por Shopping Center</h3>
    <p class="list-sub">Status de temperatura consolidado de cada shopping</p>

    <div class="shopping-list" id="shoppingList">
      <!-- rows generated via JS -->
    </div>
  </section>
</section>
