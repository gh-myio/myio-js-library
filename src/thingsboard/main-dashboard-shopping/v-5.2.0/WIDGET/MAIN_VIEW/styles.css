#myio-root {
  --myio-radius: 16px;

  --sidebar-w: 260px;
  --sidebar-w-compact: 72px;
}

/* root + filhos ocupam 100% */
#myio-root.myio-grid,
#myio-root .tb-child,
#myio-root section[id$="Container"] {
  width: 100%;
  height: 100%;
}

/* GRID PRINCIPAL */
#myio-root.myio-grid {
  display: grid;
  grid-template-columns: var(--sidebar-w) 1fr;
  grid-template-rows: auto 1fr 46px;
  grid-template-areas:
    'sidebar header'
    'sidebar content'
    'footer footer';
  width: 100%;
  height: 100%;
  background: var(--myio-bg);
  overflow: hidden;
  gap: 0 !important;
}

/* Áreas */
#myio-root .myio-sidebar {
  grid-area: sidebar;
  background: var(--myio-panel);
  border-right: 1px solid var(--myio-border);
  box-shadow: none; /* remove sombra lateral */
  padding: 0;
  margin: 0;
}

#myio-root .myio-content {
  grid-area: content;
  background: transparent;
  overflow: auto;
  height: 100%;
  min-height: 0; /* allow grid child to shrink and enable inner scroll */
  box-sizing: border-box;
  margin: 0 !important;
  padding: 0 0 0 0 !important; /* Sem padding-bottom, o grid já reserva espaço */
  position: relative;
}

/* Garantir que os containers de conteúdo preencham a área disponível */
#myio-root .myio-content [data-content-state] {
  display: block;
  width: 100%;
  height: 100%;
  min-height: 400px;
  box-sizing: border-box;
}

#myio-root .myio-header {
  grid-area: header;
  background: var(--myio-panel);
  border-bottom: 1px solid var(--myio-border);
  padding: 0;
  margin: 0;
  min-height: 75px;
}

#myio-root .myio-footer {
  grid-area: footer;
  height: 46px;
  min-height: 46px;
  max-height: 46px;
  overflow: visible;
  z-index: 1000;
}

/* Aparência comum */
#myio-root .myio-sidebar {
  border-radius: 0;
}

/* Neutralizador de states internos */
#myio-root .myio-sidebar .tb-child,
#myio-root .myio-header .tb-child,
#myio-root .myio-sidebar section[id$="Container"],
#myio-root .myio-header section[id$="Container"] {
  width: 100%;
  height: 100%;
  margin: 0 !important;
  padding: 0 !important;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
  overflow: visible;
}

/* Widgets de content precisam de scroll - NÃO forçar overflow: visible */
#myio-root .myio-content .tb-child,
#myio-root .myio-content section[id$="Container"] {
  width: 100%;
  height: 100%;
  margin: 0 !important;
  padding: 0 !important;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
  overflow: auto; /* ✅ MUDADO: permite scroll nos widgets */
}

/* ThingsBoard wrapper para widgets dinamicamente carregados */
#myio-root .myio-content .tb-child tb-dynamic-component,
#myio-root .myio-content .tb-child tb-dynamic-component > * {
  display: block;
  width: 100%;
  height: 100%;
  min-height: 400px;
}
#myio-root .myio-footer .tb-child,
#myio-root .myio-footer section[id$="Container"] {
  /* Remove o padding padrão do Gridster */
  padding: 0 !important;

  /* Aplica todo o estilo visual que estava no #myio-root .myio-footer */
  background: linear-gradient(90deg, #121a2b, #1c2743);
  border-top: 2px solid #00e09e;
  box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.2);
}

/* wrapper interno (nível 1 e 2) */
#myio-root .myio-content .tb-child > :first-child,
#myio-root .myio-content .tb-child > :first-child > :first-child {
  margin-left: 0 !important;
  padding-left: 0 !important;
}

/* elementos internos comuns */
#myio-root .myio-content .tb-child > * {
  flex: 1 1 auto;
  width: 100%;
  max-width: none;
  height: 100%;
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* containers internos */
#myio-root .myio-content .tb-child .container,
#myio-root .myio-content .tb-child .content,
#myio-root .myio-content .tb-child .mat-card,
#myio-root .myio-content .tb-child .mat-mdc-card {
  width: 100%;
  max-width: none;
  margin: 0;
  box-sizing: border-box;
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
  border-radius: 0 !important;
}

/* grids internos */
#myio-root .myio-content .tb-child .layout-row,
#myio-root .myio-content .tb-child .layout-column {
  width: 100%;
  max-width: none;
}

/* Scrollbar suave apenas no content */
#myio-root .myio-content::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
#myio-root .myio-content::-webkit-scrollbar-track {
  background: transparent;
}

/* Menu compacto */
#myio-root.myio-grid.menu-compact {
  grid-template-columns: var(--sidebar-w-compact) 1fr;
}
#myio-root.myio-grid.menu-compact .myio-sidebar {
  width: var(--sidebar-w-compact);
}

/* Responsivo */
@media (max-width: 1200px) {
  #myio-root {
    --sidebar-w: 260px;
  }
}
@media (max-width: 920px) {
  #myio-root.myio-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr; /* sidebar, content */
    grid-template-areas:
      'sidebar'
      'content';
  }
  #myio-root .myio-sidebar {
    border-right: none;
    border-bottom: 1px solid var(--myio-border);
  }
}

/* ajustes extras */
.shops-menu-root {
  padding: 12px 0; /* só vertical */
}
#myio-root .myio-content > * {
  margin: 0;
}
