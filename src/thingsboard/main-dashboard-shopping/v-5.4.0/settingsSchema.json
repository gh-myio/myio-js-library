{
  "schema": {
    "type": "object",
    "title": "MAIN_VIEW Orchestrator Settings",
    "properties": {
      "customerTB_ID": {
        "title": "Customer ThingsBoard ID",
        "type": "string",
        "description": "ID do customer no ThingsBoard para buscar atributos de autenticação (client_id, client_secret, ingestionId)"
      },
      "defaultThemeMode": {
        "title": "Default Theme Mode",
        "type": "string",
        "enum": ["dark", "light"],
        "default": "light"
      },
      "darkMode": {
        "type": "object",
        "title": "Dark Mode Settings",
        "properties": {
          "backgroundType": {
            "title": "Background Type",
            "type": "string",
            "enum": ["image", "color", "gradient"],
            "default": "gradient"
          },
          "backgroundUrl": {
            "title": "Background Image URL",
            "type": "string",
            "default": ""
          },
          "backgroundColor": {
            "title": "Background Color",
            "type": "string",
            "default": "#0f172a"
          },
          "backgroundGradient": {
            "title": "Background Gradient",
            "type": "string",
            "default": "linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%)"
          },
          "panelColor": {
            "title": "Panel Color",
            "type": "string",
            "default": "#1e293b"
          },
          "borderColor": {
            "title": "Border Color",
            "type": "string",
            "default": "#334155"
          },
          "textColor": {
            "title": "Text Color",
            "type": "string",
            "default": "#f1f5f9"
          }
        }
      },
      "lightMode": {
        "type": "object",
        "title": "Light Mode Settings",
        "properties": {
          "backgroundType": {
            "title": "Background Type",
            "type": "string",
            "enum": ["image", "color", "gradient"],
            "default": "gradient"
          },
          "backgroundUrl": {
            "title": "Background Image URL",
            "type": "string",
            "default": ""
          },
          "backgroundColor": {
            "title": "Background Color",
            "type": "string",
            "default": "#f8fafc"
          },
          "backgroundGradient": {
            "title": "Background Gradient",
            "type": "string",
            "default": "linear-gradient(135deg, #ede9fe 0%, #ddd6fe 50%, #c4b5fd 100%)"
          },
          "panelColor": {
            "title": "Panel Color",
            "type": "string",
            "default": "#ffffff"
          },
          "borderColor": {
            "title": "Border Color",
            "type": "string",
            "default": "#e2e8f0"
          },
          "textColor": {
            "title": "Text Color",
            "type": "string",
            "default": "#1e293b"
          }
        }
      },
      "enableCache": {
        "title": "Enable Cache System",
        "type": "boolean",
        "default": true,
        "description": "RFC-0052: Enable/disable cache system globally. Set to FALSE to always fetch fresh data from API (use for troubleshooting or real-time dashboards). WARNING: Disabling cache increases API load."
      },
      "cacheTtlMinutes": {
        "title": "Cache TTL (minutes)",
        "type": "number",
        "default": 30,
        "description": "Time-to-live for cached data entries (RFC-0047: changed from 5 to 30 minutes)"
      },
      "enableStaleWhileRevalidate": {
        "title": "Enable Stale-While-Revalidate",
        "type": "boolean",
        "default": true,
        "description": "Serve stale data immediately while refreshing in background"
      },
      "maxCacheSize": {
        "title": "Max Cache Size",
        "type": "number",
        "default": 50,
        "description": "Maximum number of cache entries (LRU eviction)"
      },
      "debugMode": {
        "title": "Debug Mode",
        "type": "boolean",
        "default": false,
        "description": "Enable console logging and debug overlay (Ctrl+Shift+D)"
      },
      "domainsEnabled": {
        "title": "Enabled Domains",
        "type": "object",
        "properties": {
          "energy": {
            "title": "Energy Domain",
            "type": "boolean",
            "default": true
          },
          "water": {
            "title": "Water Domain",
            "type": "boolean",
            "default": true
          },
          "temperature": {
            "title": "Temperature Domain",
            "type": "boolean",
            "default": true
          }
        }
      },
      "excludeDevicesAtCountSubtotalCAG": {
        "title": "Excluir Devices do Subtotal CAG",
        "type": "array",
        "items": {
          "type": "string"
        },
        "default": [],
        "description": "Lista de Entity IDs do ThingsBoard que serão excluídos do cálculo de consumo no summary CAG (Climatização, Áreas Comuns, etc). Ex: ['abc123-def456-...', 'xyz789-...']"
      },
      "enableAnnotationsOnboarding": {
        "title": "Enable Annotations Onboarding",
        "type": "boolean",
        "default": false,
        "description": "RFC-0144: Habilita o onboarding de Anotações do Dispositivo no modal de Settings. Se false, o onboarding nunca é exibido."
      },
      "alarmsApiBaseUrl": {
        "title": "Alarms API Base URL",
        "type": "string",
        "default": "https://alarms-api.a.myio-bas.com",
        "description": "RFC-0178: Base URL for the Alarms Backend REST API (without trailing slash and without /api/v1)."
      },
      "alarmsApiKey": {
        "title": "Alarms API Key",
        "type": "string",
        "default": "gcdr_cust_tb_integration_key_2026",
        "description": "RFC-0178: API key for the Alarms Backend REST API (X-API-Key header)."
      },
      "gcdrCustomerId": {
        "title": "GCDR Customer ID",
        "type": "string",
        "default": "",
        "description": "RFC-0180: GCDR customer identifier. If empty, resolved from ThingsBoard SERVER_SCOPE attribute 'gcdrCustomerId' (or 'gcdrId')."
      },
      "gcdrTenantId": {
        "title": "GCDR Tenant ID",
        "type": "string",
        "default": "",
        "description": "RFC-0180: GCDR tenant identifier. If empty, resolved from ThingsBoard SERVER_SCOPE attribute 'gcdrTenantId'."
      },
      "gcdrApiBaseUrl": {
        "title": "GCDR API Base URL",
        "type": "string",
        "default": "https://gcdr-api.a.myio-bas.com",
        "description": "RFC-0180: Base URL for the GCDR REST API (without trailing slash)."
      }
    }
  },
  "form": [
    "customerTB_ID",
    {
      "key": "defaultThemeMode",
      "type": "select"
    },
    {
      "type": "fieldset",
      "title": "Dark Mode Theme",
      "items": [
        {
          "key": "darkMode.backgroundType",
          "type": "select"
        },
        {
          "key": "darkMode.backgroundColor",
          "type": "color"
        },
        "darkMode.backgroundGradient",
        "darkMode.backgroundUrl",
        {
          "key": "darkMode.panelColor",
          "type": "color"
        },
        {
          "key": "darkMode.borderColor",
          "type": "color"
        },
        {
          "key": "darkMode.textColor",
          "type": "color"
        }
      ]
    },
    {
      "type": "fieldset",
      "title": "Light Mode Theme",
      "items": [
        {
          "key": "lightMode.backgroundType",
          "type": "select"
        },
        {
          "key": "lightMode.backgroundColor",
          "type": "color"
        },
        "lightMode.backgroundGradient",
        "lightMode.backgroundUrl",
        {
          "key": "lightMode.panelColor",
          "type": "color"
        },
        {
          "key": "lightMode.borderColor",
          "type": "color"
        },
        {
          "key": "lightMode.textColor",
          "type": "color"
        }
      ]
    },
    {
      "type": "fieldset",
      "title": "Cache Settings",
      "items": [
        "enableCache",
        "cacheTtlMinutes",
        "enableStaleWhileRevalidate",
        "maxCacheSize"
      ]
    },
    {
      "type": "fieldset",
      "title": "Debug & Domains",
      "items": [
        "debugMode",
        "domainsEnabled.energy",
        "domainsEnabled.water",
        "domainsEnabled.temperature"
      ]
    },
    "excludeDevicesAtCountSubtotalCAG",
    "enableAnnotationsOnboarding",
    "alarmsApiBaseUrl",
    "alarmsApiKey",
    "gcdrCustomerId",
    "gcdrTenantId",
    "gcdrApiBaseUrl"
  ]
}
