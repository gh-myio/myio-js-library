<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

</head>
<body style="overflow: hidden;flex-direction: column;width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; background-color: black;">

    <div style="width: 20vw;" id="content">
        
    </div>
 
</body> 
<script type="module">
      window.MyIOLibrary = window.MyIOLibrary || {
    formatEnergyByGroup: (v, g) => `${v} kWh${g ? " · " + g : ""}`,
    formatNumberReadable: (n) => Number(n ?? 0).toFixed(1)
  };
import { renderCardComponent } from './template-card.js';
import { formatEnergy } from './energy.js';
import { formatNumberReadable } from './numbers.js';

const entityId = "844dcb60-9011-11f0-a06d-e9509531b1d5"
const labelOrName = "PERNAMBUCANAS"
const entityType = "DEVICE"
const slaveId = "120"
const ingestionId = "ce6a7e51-e642-4562-8d3d-8f492929d4df"
const val = "126,14"
const centralId = "d3202744-05dd-46d1-af33-495e9a2ecd52"
  
const isOn = true

const perc = 80;
const img = `https://dashboard.myio-bas.com/api/images/public/f9Ce4meybsdaAhAkUlAfy5ei3I4kcN4k`;

/*
document.getElementById('content').innerHTML = 
    renderCardComponent({
        entityObject: { entityId: "1", labelOrName: "Pump", val: 900, group: "adm" }, 
        handleActionDashboard: console.log
    });
    */

      // Mock de entidades
// Mock de entidades
const mockEntities = [
  {
    entityId: "dev-001",
    labelOrName: "Bomba Principal",
    entityType: "DEVICE",
    slaveId: "01",
    ingestionId: "ing-aaa",
    val: 1250,
    centralId: "21.111.222.333",
    img: "https://via.placeholder.com/64?text=B1",
    isOn: true,
    perc: 45,
    group: "entrada",
    connectionStatus: "online"
  },
  {
    entityId: "dev-002",
    labelOrName: "Chiller Resfriamento",
    entityType: "DEVICE",
    slaveId: "02",
    ingestionId: "ing-bbb",
    val: 980,
    centralId: "21.111.222.334",
    img: "https://via.placeholder.com/64?text=C2",
    isOn: false,
    perc: 30,
    group: "adm",
    connectionStatus: "offline"
  },
  {
    entityId: "dev-003",
    labelOrName: "Relógio Externo",
    entityType: "DEVICE",
    slaveId: "03",
    ingestionId: "ing-ccc",
    val: 1560,
    centralId: "21.111.222.335",
    img: "https://via.placeholder.com/64?text=R3",
    isOn: true,
    perc: 75,
    group: "relógio",
    connectionStatus: "offline"
  }
];

  // Mock de handlers
  function logHandler(type) {
    return (entity) => console.log(`[${type}]`, entity);
  }

  // Renderizar os cards
  mockEntities.forEach((entity) => {

    const $card = renderCardComponent({
      entityObject: entity,
      handleActionDashboard: logHandler("Dashboard"),
      handleActionReport: logHandler("Report"),
      handleActionSettings: logHandler("Settings"),
      handleSelect: logHandler("Select")
    });

    $("#content").append($card);
  });
// data-entity-updated-identifiers='${JSON.stringify(updatedIdentifiers)}'> const updatedIdentifiers = ""
//entityId, labelOrName, entityType, slaveId, ingestionId, val, centralId, updatedIdentifiers, isOn, MyIOLibrary, perc, img
</script>
</html>